# SYSTEM_CONSTITUTION.md

**永続不変のプロジェクト憲法 - 本リポジトリの存在意義と進化の指針**

---

## 1. 核心的使命（Core Mission）

本リポジトリは「**Slack × A–D Knowledge Loop Tracker**」を実現するために存在する。

> **使命**: チームの知識生産ループ（KPL: Knowledge Production Loop）を可視化・加速し、
> 「未知が表に出て、観測され、検証され、資産化される」サイクルを組織に根付かせる。

**絶対原則**：
- 人を評価・点数化するためのシステムではない
- チームの学習能力を底上げするためのシステムである

---

## 2. 不変の定義（Immutable Definitions）

### 2.1 A–D状態遷移モデル（変更禁止）

知識は以下の4状態を遷移する。これは本システムの根幹であり、変更してはならない。

| 状態 | 名称 | 定義 |
|:---:|:---|:---|
| **A** | Unknown | 未知・不確実性・懸念・仮説・リスクが「新規に言語化された」状態 |
| **B** | Observation | 未知を潰すための観測（テスト/計測/確認/評価）に変換された状態 |
| **C** | Verified | 観測により仮説が「潰れた/強まった/否定された」状態 |
| **D** | Reused | 次回も回る形になった状態（自動化・テンプレ化・チェックリスト化） |

### 2.2 核心指標（Primary Metrics）

日次で追跡すべき指標。これ以外を優先してはならない。

1. **新規A件数** — 未知が表に出ているか
2. **A→B件数** — 未知が観測に変換されているか
3. **滞留A年齢中央値** — 未知が腐っていないか

---

## 3. AIエージェントへの絶対命令（Agent Directives）

### 3.1 役割の境界（絶対遵守）

| ✅ やること | ❌ やらないこと |
|:---|:---|
| Slackスレッドから A–D イベントを**抽出**する | 人やチームに**点数**を付ける |
| 既存Topicへの**紐付け**を試みる | 抽出結果を**評価・判定**する |
| confidence（自信度）を**付与**する | 「良い/悪い」を**断言**する |
| JSON形式で**構造化出力**する | 人間の判断を**代替**する |

### 3.2 抽出時の行動規範

```
1. 入力：日次Slackスレッド全文 + Topic台帳
2. 処理：
   - 各メッセージから A/B/C/D イベントを識別
   - 既存topic_idへの紐付けを優先（なければ新規作成）
   - 根拠となるmessage_urlを必ず付与
3. 出力：
   - event_type: A|B|C|D
   - topic_id: string
   - message_url: string
   - confidence: 0.0-1.0
   - note: string (optional)
```

### 3.3 禁止事項（Prohibitions）

- **AI生成文章の「証拠」扱い禁止** — AIの出力はEvidenceではない
- **個人の点数化禁止** — メンバーをランキングしない
- **精度至上主義の禁止** — 誤判定より「ループが回ること」を優先

---

## 4. 運用原則（Operational Principles）

### 4.1 人間への最小要求

- Slackに書くだけ（タグは任意）
- 週1回のTopic統合（merge）作業のみ必須

### 4.2 段階的強化の原則

以下は「あれば良い」であり、強制しない：
- `A:` `B:` `C:` `D:` タグ付け
- `判断:` 採用/不採用/保留
- `反証条件:` これが起きたら間違い

文化の定着を優先し、厳密化は後から行う。

---

## 5. データモデル（Canonical Schema）

### 5.1 Eventログ

| 列名 | 型 | 説明 |
|:---|:---|:---|
| date | date | イベント発生日 |
| thread_url | string | Slackスレッド URL |
| event_type | enum(A,B,C,D) | 状態遷移タイプ |
| topic_id | string | 紐づくTopic ID |
| topic_title | string | Topic名（スナップショット） |
| message_url | string | 根拠メッセージ URL |
| author | string | 投稿者 |
| confidence | float | AI抽出の自信度 |
| note | string | 備考 |

### 5.2 Topic台帳

| 列名 | 型 | 説明 |
|:---|:---|:---|
| topic_id | string | 一意識別子 |
| first_seen | date | 初出日 |
| last_updated | date | 最終更新日 |
| status | enum(A,B,C,D) | 現在の最高到達状態 |
| owner | string | 担当者（任意） |
| next_action | string | 次のアクション |
| age_days | int | 滞留日数 |

---

## 6. 成功条件と失敗条件

### 6.1 このシステムが成功している状態

- 未知（A）が日常的にSlackに出てくる
- A→B変換が滞りなく発生している
- 滞留Aの年齢中央値が低く保たれている
- チームが「書くこと」を負担に感じていない

### 6.2 このシステムが失敗している状態

- 人事評価・査定に使われている
- AI抽出精度の議論がループ改善より優先されている
- タグ付けが義務化され、Slackが静かになった
- 個人の点数比較が始まった

---

## 7. 憲法改正ルール

本憲法の変更には以下が必要：

1. **変更不可セクション**（§2 不変の定義）— 変更禁止
2. **それ以外のセクション** — 月1回のレトロスペクティブで合意形成の上、変更可

---

## Appendix: クイックスタート手順

```
1. Slackに日次スレッドを用意
2. 任意タグ A/B/C/D を周知（強制しない）
3. AI抽出を1週間回す（精度は気にしない）
4. Topic台帳を作成、週1回だけ重複マージ
5. 日次で「新規A」「A→B」「滞留A中央値」を確認
6. 月1回、ルールを1つだけ改善
```

---

## Appendix: 推奨Slackテンプレ

```
- A: 今日の未知/不安/仮説
- B: 次に取る観測（テスト/計測/確認）
- C: 分かったこと（結果）
- D: 次回も回る形にしたこと（資産化）

（任意）
- 判断: 採用/不採用/保留
- 反証条件: これが起きたら間違い
```
